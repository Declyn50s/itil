import type { Lang } from '../types'

type Dict = Record<string, string>

const FR: Dict = {
  nav_home: 'Accueil',
  nav_favorites: 'Favoris',
  nav_stats: 'Stats',
  nav_settings: 'Réglages',
  brand: 'ITIL Coach',

  home_title: 'Révision ITIL 4 — simple, rapide.',
  home_sub: '3–4 actions max. Réponds. Correction. Next. Tes erreurs reviennent.',
  home_start: 'Démarrer',
  home_quick5: 'Série rapide 5',
  home_resume: 'Reprendre',
  home_continue: 'Continuer',
  home_none: 'Aucune session en cours.',
  home_daily: 'Objectif du jour',
  home_daily_text: '20 questions. Fais 5 maintenant.',
  home_launch5: 'Lancer 5 questions',
  home_review: 'Réviser',
  home_questions: 'questions',
  home_mastered: 'Maîtrisé (streak ≥ 3)',

  new_title: 'Nouvelle session',
  new_sub: 'Choisis module(s) + mode. Démarre en 10 secondes.',
  new_modules: 'Modules',
  new_available: 'Questions dispo',
  new_mode: 'Mode',
  new_review: 'Révision',
  new_test: 'Test',
  new_exam: 'Examen',
  new_count: 'Nombre de questions',
  new_feedback: 'Feedback',
  new_instant: 'Immédiat',
  new_end: 'À la fin',
  new_timer: 'Timer (minutes)',
  new_exam_hint: 'En examen: pas de correction avant la fin.',
  new_start: 'Démarrer',
  new_cancel: 'Annuler',
  new_choose_other_module: 'Choisir un autre module',

  session_not_found: 'Session introuvable.',
  back: 'Retour',
  question: 'Question',
  previous: 'Précédent',
  next: 'Suivant',
  finish: 'Terminer',
  favorite: 'Favori',
  remove_favorite: 'Retirer Favori',
  show_answer: 'Afficher réponse',
  hide_answer: 'Masquer réponse',
  note: 'Note',
  your_note: 'Ta note',
  note_ph: 'Écris ta note ici… (auto-sauvegarde)',
  note_hint: 'Sauvegarde auto au blur. (Tu peux aussi juste cliquer ailleurs.)',
  correct: 'Correct',
  incorrect: 'Incorrect',
  good_answer: 'Bonne réponse:',
  exam_hint: 'Mode examen: pas de correction ni notes pendant l’épreuve. Tu verras tout dans les résultats.',

  settings_title: 'Réglages',
  settings_theme: 'Thème',
  settings_theme_sub: 'Clair ou sombre',
  light: 'Clair',
  dark: 'Sombre',
  settings_lang: 'Langue',
  settings_lang_sub: 'Interface + questions (sessions séparées)',
  settings_data: 'Données',
  settings_data_sub: 'MVP: stockage local (localStorage). Pas de compte.',
  reset: 'Réinitialiser',
  home_summary: 'Résumé',
  summary_kicker: 'Fiche module',
  summary_title: 'Résumé du module',
  summary_objective: 'Objectif du module',
  summary_takeaways: 'À retenir pour l’examen',
  summary_unavailable: 'Résumé non disponible pour ce module dans cette langue.',
  summary_start: 'Réviser ce module',
  summary_back_home: 'Retour accueil',

}

const EN: Dict = {
  nav_home: 'Home',
  nav_favorites: 'Favorites',
  nav_stats: 'Stats',
  nav_settings: 'Settings',
  brand: 'ITIL Coach',

  home_title: 'ITIL 4 revision — simple and fast.',
  home_sub: '3–4 actions max. Answer. Feedback. Next. Your mistakes come back.',
  home_start: 'Start',
  home_quick5: 'Quick set 5',
  home_resume: 'Resume',
  home_continue: 'Continue',
  home_none: 'No active session.',
  home_daily: 'Today’s goal',
  home_daily_text: '20 questions. Do 5 now.',
  home_launch5: 'Start 5 questions',
  home_review: 'Review',
  home_questions: 'questions',
  home_mastered: 'Mastered (streak ≥ 3)',

  new_title: 'New session',
  new_sub: 'Pick module(s) + mode. Start in 10 seconds.',
  new_modules: 'Modules',
  new_available: 'Available questions',
  new_mode: 'Mode',
  new_review: 'Review',
  new_test: 'Test',
  new_exam: 'Exam',
  new_count: 'Question count',
  new_feedback: 'Feedback',
  new_instant: 'Instant',
  new_end: 'At the end',
  new_timer: 'Timer (minutes)',
  new_exam_hint: 'In exam mode: no feedback until the end.',
  new_start: 'Start',
  new_cancel: 'Cancel',
  new_choose_other_module: 'Choose another module',

  session_not_found: 'Session not found.',
  back: 'Back',
  question: 'Question',
  previous: 'Previous',
  next: 'Next',
  finish: 'Finish',
  favorite: 'Favorite',
  remove_favorite: 'Remove favorite',
  show_answer: 'Show answer',
  hide_answer: 'Hide answer',
  note: 'Note',
  your_note: 'Your note',
  note_ph: 'Write your note here… (auto-save)',
  note_hint: 'Auto-saves on blur. (Just click elsewhere.)',
  correct: 'Correct',
  incorrect: 'Incorrect',
  good_answer: 'Correct answer:',
  exam_hint: 'Exam mode: no feedback or notes during the exam. See everything in results.',

  settings_title: 'Settings',
  settings_theme: 'Theme',
  settings_theme_sub: 'Light or dark',
  light: 'Light',
  dark: 'Dark',
  settings_lang: 'Language',
  settings_lang_sub: 'UI + questions (separate sessions)',
  settings_data: 'Data',
  settings_data_sub: 'MVP: local storage (localStorage). No account.',
  reset: 'Reset',
  home_summary: 'Summary',
  summary_kicker: 'Module sheet',
  summary_title: 'Module summary',
  summary_objective: 'Module objective',
  summary_takeaways: 'Key takeaways',
  summary_unavailable: 'Summary not available for this module in this language.',
  summary_start: 'Study this module',
  summary_back_home: 'Back home',

}

const DICTS: Record<Lang, Dict> = { fr: FR, en: EN }

export function t(lang: Lang | undefined | null, key: keyof typeof FR): string {
  const safe: Lang = lang === 'en' || lang === 'fr' ? lang : 'fr'
  return DICTS[safe][key] ?? String(key)
}
